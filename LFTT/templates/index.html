<!DOCTYPE html>
<html>
<head>
    <title>æ–‡ä»¶å…±äº«æœåŠ¡</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <h1>æ–‡ä»¶å…±äº«æœåŠ¡</h1>
        
        <div class="path-navigation">
            <a href="/">é¦–é¡µ</a>
            {% for part in current_path.split('/') %}
                {% if part %}
                    / <a href="/browse/{{ '/'.join(current_path.split('/')[:loop.index]) }}">{{ part }}</a>
                {% endif %}
            {% endfor %}
        </div>
        
        <form method="post" action="/upload" enctype="multipart/form-data">
            <input type="file" name="file" required>
            <input type="hidden" name="current_path" value="{{ current_path }}">
            <button type="submit">ä¸Šä¼ æ–‡ä»¶</button>
        </form>

        <h2>å½“å‰ç›®å½•å†…å®¹</h2>
        <ul class="file-list">
            {% if current_path %}
            <li>
                <a href="/browse/{{ parent_path }}" class="folder-link">â†‘ è¿”å›ä¸Šçº§</a>
            </li>
            {% endif %}
            
            {% for item in items %}
            <li>
                {% if item.is_dir %}
                    <span class="folder-icon">ğŸ“</span>
                    <a href="/browse/{{ item.path }}" class="folder-link">{{ item.name }}</a>
                    <a href="/download_folder/{{ item.path }}" class="download-btn">ä¸‹è½½æ–‡ä»¶å¤¹</a>
                {% else %}
                    <span class="file-icon">ğŸ“„</span>
                    <a href="/download/{{ item.path }}" class="file-link">{{ item.name }}</a>
                {% endif %}
                <span class="file-meta">{{ item.modified.strftime('%Y-%m-%d %H:%M') }}</span>
            </li>
            {% endfor %}
        </ul>
    </div>
</body>
</html>